/* Global Responsive Fixes - System-wide Overflow Prevention */

/* Root level overflow prevention */
html, body {
  max-width: 100vw;
  overflow-x: hidden;
}

/* Global container safety */
* {
  box-sizing: border-box;
}

/* Flex and Grid Safety Rules */
.flex > *, .grid > * {
  min-width: 0;
}

/* Table responsive safety */
table {
  table-layout: fixed;
  width: 100%;
}

table th, table td {
  word-wrap: break-word;
  overflow-wrap: break-word;
  min-width: 0;
}

/* Text safety - prevent overflow */
.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.break-words {
  overflow-wrap: break-word;
  word-wrap: break-word;
  word-break: break-word;
}

/* Modal responsive safety */
.modal-content {
  max-width: 95vw !important;
  width: 100%;
}

/* Button responsive safety */
button {
  min-width: 0;
  word-wrap: break-word;
}

/* Input responsive safety */
input, textarea, select {
  min-width: 0;
  max-width: 100%;
}

/* Card responsive safety */
.card {
  min-width: 0;
  overflow: hidden;
}

/* Admin layout specific fixes */
.admin-layout {
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
}

.admin-content {
  width: 100%;
  max-width: 100%;
  min-width: 0;
  overflow-x: hidden;
}

/* Mobile-first responsive utilities */
@media (max-width: 640px) {
  /* Force mobile card view for tables */
  .responsive-table {
    display: none;
  }
  
  .mobile-cards {
    display: block;
  }
  
  /* Stack flex items on mobile */
  .mobile-stack {
    flex-direction: column !important;
  }
  
  /* Full width on mobile */
  .mobile-full {
    width: 100% !important;
  }
}

@media (min-width: 641px) {
  .responsive-table {
    display: table;
  }
  
  .mobile-cards {
    display: none;
  }
}

/* Prevent horizontal scroll on any element */
.no-horizontal-scroll {
  overflow-x: hidden;
  max-width: 100%;
}

/* Safe flex containers */
.safe-flex {
  display: flex;
  min-width: 0;
}

.safe-flex > * {
  min-width: 0;
  flex-shrink: 1;
}

/* Safe grid containers */
.safe-grid {
  display: grid;
  min-width: 0;
}

.safe-grid > * {
  min-width: 0;
}

/* Responsive image safety */
img {
  max-width: 100%;
  height: auto;
}

/* Prevent code blocks from overflowing */
pre, code {
  overflow-x: auto;
  max-width: 100%;
  word-wrap: break-word;
}

/* Chart and visualization safety */
.chart-container {
  overflow-x: auto;
  max-width: 100%;
}

/* Form responsive safety */
.form-container {
  width: 100%;
  max-width: 100%;
  min-width: 0;
}

.form-row {
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  min-width: 0;
}

.form-row > * {
  min-width: 0;
  flex: 1;
}

@media (max-width: 640px) {
  .form-row {
    flex-direction: column;
  }
  
  .form-row > * {
    width: 100%;
  }
}